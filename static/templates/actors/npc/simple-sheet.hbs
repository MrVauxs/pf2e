<form class="npc-sheet simple" autocomplete="off">

    <div class="side-bar">

        <div class="image-container">
            <img class="actor-image" src="{{actor.img}}" data-edit="img" title="{{actor.name}}" height="auto" width="100%" style="margin: 0 auto"/>
            <a class="hover-icon" data-action="show-image"><i class="fas fa-image fa-fw"></i></a>
        </div>

        <div class="side-bar-section will">
            <div class="side-bar-section-header">
                <div class="side-bar-label labelled-field">
                    <label class="attribute-label rollable" title="{{data.saves.will.breakdown}}"><a>{{localize "PF2E.SavesWill"}}</a></label>
                    <input type="text" value="{{numberFormat data.saves.will.value decimals=0 sign=true}}" class="modifier" data-property="system.saves.will.value" data-dtype="Number" placeholder="0" />
                </div>
            </div>
            <div class="section-body">
                <input type="text" name="system.attributes.allSaves.value" value="{{data.attributes.allSaves.value}}" title="{{data.attributes.allSaves.value}}" placeholder="{{localize "PF2E.NPC.SavesExtraInfoLabelPlaceholder"}}"/>
            </div>
        </div>

        <div class="side-bar-section senses">
            <div class="side-bar-section-header">
                <div class="side-bar-label labelled-field">
                    <label class="attribute-label rollable"><a>{{localize "PF2E.PerceptionHeader"}}</a></label>
                    {{#with data.attributes.perception as |perception|}}
                        <input type="text" value="{{numberFormat perception.value decimals=0 sign=true}}" class="modifier adjustable{{#if perception.adjustedHigher}} adjusted-higher{{/if}}{{#if perception.adjustedLower}} adjusted-lower{{/if}}" data-property="system.attributes.perception.value" data-dtype="Number" placeholder="0" />
                    {{/with}}
                </div>
            </div>
            <div class="section-body">
                {{# if options.editable}}
                    <input name="system.traits.senses.value" type="text" value="{{data.traits.senses.value}}" title="{{data.traits.senses.value}}" placeholder="{{localize "PF2E.SpecialSensesLabel"}}" />
                {{else}}
                    <span>{{data.traits.senses.value}}</span>
                {{/if}}
            </div>
        </div>

    </div>
    <div class="npc-body">

        <header class="npc-sheet-header">
            <div class="name flexrow bottom-separator">
                <input class="name-value" name="name" type="text" value="{{actor.name}}" placeholder="{{localize "PF2E.CharacterNamePlaceholder"}}" spellcheck="false" />
                <label class="level-label">{{localize "PF2E.NPC.Creature"}}</label>
                {{#with data.details.level as |level|}}
                    <input class="level adjustable{{#if level.adjustedHigher}} adjusted-higher{{else if level.adjustedLower}} adjusted-lower{{/if}}" type="text" data-property="system.details.level.value" value="{{level.value}}" placeholder="1" data-dtype="Number" />
                {{/with}}
            </div>
            <div class="flexrow" style="justify-content: space-between; width: 100%;">
                <div class="flexrow" style="flex: auto;">
                    {{!-- TRAITS --}}
                    <select class="rarity-select traits-list-item rarity {{data.traits.rarity}}" data-property="system.traits.rarity">
                        {{#select data.traits.rarity}}
                            {{#each rarity as |label key|}}
                                <option value="{{key}}">{{localize label}}</option>
                            {{/each}}
                        {{/select}}
                    </select>
                    <select class="alignment-select traits-list-item alignment" data-property="system.details.alignment.value">
                        {{#select data.details.alignment.value}}
                            {{#each alignments as |label key|}}
                                <option value="{{key}}">{{localize label}}</option>
                            {{/each}}
                        {{/select}}
                    </select>
                    <select class="size-select traits-list-item size" data-property="system.traits.size.value">
                        {{#select data.traits.size.value}}
                            {{#each actorSizes as |label key|}}
                                <option value="{{key}}">{{localize label}}</option>
                            {{/each}}
                        {{/select}}
                    </select>
                </div>
            </div>
            <div class="flexrow">
                <input class="tags paizo-style" name="system.traits.value" value="{{json traitTagifyData}}" data-dtype="JSON"
                    {{#if (eq data.traits.value.length 0)}}placeholder="{{localize "PF2E.Traits"}}"{{/if}} />
            </div>
            <div class="flexrow">
                <input name="system.details.blurb" type="text" value="{{data.details.blurb}}" />
            </div>
        </header>

        <section class="sheet-body">
                <div class="tab notes" data-group="primary" data-tab="notes">
                    <div class = "notes-section public-notes section-container">
                        <div class="section-header">
                            <h4>{{localize "PF2E.NPC.PublicNotes"}}</h4>
                        </div>
                        <div class="notes-text">
                            {{editor enrichedContent.publicNotes target="system.details.publicNotes" button=true editable=editable}}
                        </div>
                    </div>
                    <div class="notes-section private-notes section-container">
                        <div class="section-header">
                            <h4>{{localize "PF2E.NPC.PrivateNotes"}}</h4>
                        </div>                        
                        <div class="notes-text">
                            {{editor enrichedContent.privateNotes target="system.details.privateNotes" button=true editable=editable}}
                        </div>
                    </div>
                    <div class="source section-container headerless">
                        <div class="section-body flexrow">
                            <label>{{localize "PF2E.Source.Label"}}:</label>
                            <input class="source-input" name="system.details.source.value" type="text" value="{{data.details.source.value}}" placeholder="{{localize "PF2E.Source.SourcePlaceholder"}}" />
                            <label>{{localize "PF2E.Source.AuthorLabel"}}:</label>
                            <input name="system.details.source.author" type="text" value="{{data.details.source.author}}" placeholder="{{localize "PF2E.Source.AuthorPlaceholder"}}" />
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
</form>